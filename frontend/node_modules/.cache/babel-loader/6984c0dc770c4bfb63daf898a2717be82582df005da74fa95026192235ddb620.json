{"ast":null,"code":"var _jsxFileName = \"/Users/jonathandowdell/Workstation/React/million-pixel-app/src/pages/PaymentIntro.jsx\",\n  _import$meta,\n  _import$meta2,\n  _s = $RefreshSig$();\nimport React, { useMemo, useState } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API_BASE = process.env.REACT_APP_API_BASE || ((_import$meta = import.meta) === null || _import$meta === void 0 ? void 0 : _import$meta.env) && import.meta.env.VITE_API_BASE || \"http://localhost:3001\";\n\n/** UI-only constant. Backend enforces with CENTS_PER_CELL. */\nconst CENTS_PER_CELL = Number(((_import$meta2 = import.meta) === null || _import$meta2 === void 0 ? void 0 : _import$meta2.env) && import.meta.env.VITE_CENTS_PER_CELL || process.env.REACT_APP_CENTS_PER_CELL || 2500 // $25 per cell\n);\n\n/** Presets use the amount-based endpoint (no Stripe Price IDs needed). */\nconst PRESETS = [{\n  label: \"$25\",\n  amountCents: 2500\n}, {\n  label: \"$50\",\n  amountCents: 5000\n}, {\n  label: \"$100\",\n  amountCents: 10000\n}, {\n  label: \"$250\",\n  amountCents: 25000\n}];\n\n/* ---- tiny visual preview of cell count ---- */\nfunction CellsPreview({\n  count\n}) {\n  const n = Math.min(count, 60);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"cells-prev\",\n    \"aria-hidden\": \"true\",\n    children: [Array.from({\n      length: n\n    }).map((_, i) => /*#__PURE__*/_jsxDEV(\"span\", {}, i, false, {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 9\n    }, this)), count > n && /*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"more\",\n      children: [\"+\", count - n]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 21\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 27,\n    columnNumber: 5\n  }, this);\n}\n_c = CellsPreview;\nexport default function PaymentIntro() {\n  _s();\n  const [mode, setMode] = useState(\"preset\"); // 'preset' | 'custom'\n  const [selected, setSelected] = useState(PRESETS[0].amountCents);\n  const [customAmount, setCustomAmount] = useState(\"25\");\n  const [message, setMessage] = useState(\"\");\n  const [submitting, setSubmitting] = useState(false);\n  const [err, setErr] = useState(\"\");\n  const amountCents = mode === \"preset\" ? selected : Math.max(0, Math.round((Number(customAmount) || 0) * 100));\n  const cells = useMemo(() => Math.floor(amountCents / CENTS_PER_CELL), [amountCents]);\n  async function startCheckout(e) {\n    e.preventDefault();\n    setErr(\"\");\n    if (amountCents < 100) {\n      setErr(\"Minimum is $1.00.\");\n      return;\n    }\n    try {\n      setSubmitting(true);\n      const res = await fetch(`${API_BASE}/create-checkout-session`, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          amount: amountCents,\n          currency: \"usd\",\n          message\n        })\n      });\n      const data = await res.json();\n      if (!res.ok) throw new Error(data.error || \"Failed to start checkout\");\n      window.location.href = data.url;\n    } catch (e) {\n      setErr(e.message);\n      setSubmitting(false);\n    }\n  }\n  function pickPreset(cents) {\n    setSelected(cents);\n    setMode(\"preset\");\n  }\n  function step(delta) {\n    const v = Math.max(1, Math.round((Number(customAmount) || 0) + delta));\n    setCustomAmount(String(v));\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"support-wrap\",\n    children: [/*#__PURE__*/_jsxDEV(Style, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"support-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Support the Reveal\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Every dollar helps uncover the image. $25 reveals one cell.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"seg\",\n        role: \"tablist\",\n        \"aria-label\": \"Amount mode\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          role: \"tab\",\n          \"aria-selected\": mode === \"preset\",\n          className: `seg-btn ${mode === \"preset\" ? \"active\" : \"\"}`,\n          onClick: () => setMode(\"preset\"),\n          children: \"Presets\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          role: \"tab\",\n          \"aria-selected\": mode === \"custom\",\n          className: `seg-btn ${mode === \"custom\" ? \"active\" : \"\"}`,\n          onClick: () => setMode(\"custom\"),\n          children: \"Custom\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 9\n      }, this), mode === \"preset\" ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid\",\n        children: PRESETS.map(p => {\n          const c = Math.floor(p.amountCents / CENTS_PER_CELL);\n          const isActive = selected === p.amountCents;\n          return /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: `tile ${isActive ? \"tile-active\" : \"\"}`,\n            onClick: () => pickPreset(p.amountCents),\n            disabled: submitting,\n            children: [isActive && /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"tick\",\n              children: \"\\u2713\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 135,\n              columnNumber: 32\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"tile-amount\",\n              children: p.label\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 136,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"tile-sub\",\n              children: [\"+\", c, \" \", c === 1 ? \"cell\" : \"cells\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 137,\n              columnNumber: 19\n            }, this)]\n          }, p.amountCents, true, {\n            fileName: _jsxFileName,\n            lineNumber: 128,\n            columnNumber: 17\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"custom\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"field\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"field-label\",\n            children: \"Amount (USD)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 147,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"number\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"steppy\",\n              onClick: () => step(-5),\n              disabled: submitting,\n              \"aria-label\": \"minus 5\",\n              children: \"\\u22125\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 149,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"steppy\",\n              onClick: () => step(-1),\n              disabled: submitting,\n              \"aria-label\": \"minus 1\",\n              children: \"\\u22121\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 158,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              className: \"num-input\",\n              type: \"number\",\n              min: \"1\",\n              step: \"1\",\n              value: customAmount,\n              onChange: e => setCustomAmount(e.target.value),\n              disabled: submitting,\n              inputMode: \"decimal\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 167,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"steppy\",\n              onClick: () => step(1),\n              disabled: submitting,\n              \"aria-label\": \"plus 1\",\n              children: \"+1\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 177,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"steppy\",\n              onClick: () => step(5),\n              disabled: submitting,\n              \"aria-label\": \"plus 5\",\n              children: \"+5\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 186,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 148,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"hint\",\n          children: [\"Estimated: \", /*#__PURE__*/_jsxDEV(\"b\", {\n            children: [\"+\", cells]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 199,\n            columnNumber: 26\n          }, this), \" \", cells === 1 ? \"cell\" : \"cells\", \" ( $\", CENTS_PER_CELL / 100, \" per cell)\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        className: \"field\",\n        style: {\n          marginTop: 14\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"field-label\",\n          children: \"Message (optional)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          rows: 4,\n          maxLength: 500,\n          placeholder: \"Say something to be recorded with your purchase\\u2026\",\n          value: message,\n          onChange: e => setMessage(e.target.value),\n          disabled: submitting\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"count\",\n          children: [message.length, \"/500\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 215,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bar\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mini\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"muted\",\n            children: \"You\\u2019ll be charged\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 220,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"total\",\n            children: [\"$\", (amountCents / 100).toFixed(2), cells > 0 && /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"cells\",\n              children: [\" \", \"(+\", cells, \" \", cells === 1 ? \"cell\" : \"cells\", \")\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 224,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 221,\n            columnNumber: 13\n          }, this), cells > 0 && /*#__PURE__*/_jsxDEV(CellsPreview, {\n            count: cells\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 230,\n            columnNumber: 27\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"footnote\",\n            children: \"Minimum $1. Message always saved.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 231,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 219,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"cta\",\n          onClick: startCheckout,\n          disabled: submitting,\n          \"aria-busy\": submitting,\n          children: submitting ? \"Redirecting…\" : \"Continue to Checkout\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 234,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 9\n      }, this), err && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"error\",\n        children: err\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 244,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 92,\n    columnNumber: 5\n  }, this);\n}\n\n/* -------- styles (scoped) -------- */\n_s(PaymentIntro, \"y8oFu4wp2PFacl1JuF6Qqm7j0Go=\");\n_c2 = PaymentIntro;\nfunction Style() {\n  return /*#__PURE__*/_jsxDEV(\"style\", {\n    children: `\n:root{\n  --bg: #0b1220;\n  --card: #0f172a;\n  --muted: #94a3b8;\n  --line: #334155;\n  --text: #e2e8f0;\n  --brand: #16a34a;\n  --brand-2: #15803d;\n  --pill: #111827;\n  --tile: #111827;\n  --tile-hover: #0b1220;\n  --shadow: 0 12px 40px rgba(0,0,0,.35), 0 2px 8px rgba(0,0,0,.2);\n}\n\n.support-wrap{\n  min-height: 100vh;\n  display: grid;           /* center on tall screens */\n  align-items: start;\n  color: var(--text);\n  background: radial-gradient(1000px 600px at 20% -10%, #19324b 0%, transparent 40%),\n              radial-gradient(800px 500px at 100% 0%, #1b2d24 0%, transparent 35%),\n              var(--bg);\n  padding: 24px 16px 48px;\n}\n@media (min-height: 820px){\n  .support-wrap{ align-items: center; }\n}\n\n.support-header{\n  max-width: 860px;\n  margin: 0 auto 16px;\n  padding: 0 8px;\n}\n.support-header h1{\n  margin: 0 0 6px;\n  font-size: 28px;\n  letter-spacing: .2px;\n}\n.support-header p{\n  margin: 0;\n  color: var(--muted);\n}\n\n.card{\n  max-width: 860px;\n  margin: 12px auto 0;\n  background: linear-gradient(180deg, rgba(255,255,255,.04), rgba(255,255,255,.02));\n  border: 1px solid rgba(51,65,85,.85);\n  border-radius: 16px;\n  box-shadow: var(--shadow);\n  padding: 18px;\n  backdrop-filter: blur(10px);\n  -webkit-backdrop-filter: blur(10px);\n}\n\n.seg{\n  display: inline-flex;\n  border: 1px solid var(--line);\n  border-radius: 12px;\n  padding: 4px;\n  background: var(--pill);\n  margin-bottom: 14px;\n}\n.seg-btn{\n  appearance: none;\n  background: transparent;\n  color: var(--text);\n  border: none;\n  padding: 8px 14px;\n  border-radius: 8px;\n  cursor: pointer;\n  font-weight: 600;\n}\n.seg-btn.active{\n  background: #0b1629;\n  outline: 1px solid var(--line);\n}\n\n.grid{\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));\n  gap: 10px;\n}\n.tile{\n  position: relative; /* for tick */\n  text-align: left;\n  background: var(--tile);\n  border: 1px solid var(--line);\n  border-radius: 12px;\n  padding: 14px;\n  cursor: pointer;\n  transition: transform .06s ease, background .12s ease;\n}\n.tile:hover{ background: var(--tile-hover); transform: translateY(-2px) scale(1.01); }\n.tile:focus-visible{ outline: 2px solid var(--brand); outline-offset: 2px; }\n.tile-active{ outline: 2px solid var(--brand); }\n.tile-amount{ font-size: 18px; font-weight: 700; }\n.tile-sub{ margin-top: 6px; color: var(--muted); font-size: 13px; }\n\n.tick{\n  position: absolute;\n  top: 10px; right: 10px;\n  width: 22px; height: 22px; line-height: 22px;\n  border-radius: 999px;\n  background: var(--brand);\n  color: white; font-weight: 800; font-size: 12px;\n  display: inline-flex; align-items: center; justify-content: center;\n  box-shadow: 0 4px 10px rgba(22,163,74,.35);\n}\n\n.custom{ margin-top: 6px; }\n.field{ display: block; }\n.field + .field{ margin-top: 12px; }\n.field-label{ display: block; font-size: 13px; color: var(--muted); margin-bottom: 6px; }\n\n.number{\n  display: flex; align-items: center; gap: 8px;\n  background: var(--pill); border: 1px solid var(--line); border-radius: 12px; padding: 8px;\n}\n.num-input{\n  inline-size: 120px;\n  background: #0b1220; color: var(--text);\n  border: 1px solid var(--line); border-radius: 10px;\n  padding: 10px 12px; font-size: 16px;\n}\n.steppy{\n  background: #0b1629; color: var(--text);\n  border: 1px solid var(--line); border-radius: 8px;\n  padding: 8px 10px; cursor: pointer; font-weight: 700; min-width: 44px;\n}\n\ntextarea{\n  width: 100%; resize: vertical;\n  background: #0b1220; color: var(--text);\n  border: 1px solid var(--line); border-radius: 12px;\n  padding: 10px 12px; font-size: 14px; line-height: 1.35;\n}\n.count{ text-align: right; color: var(--muted); font-size: 12px; margin-top: 4px; }\n\n.hint{\n  margin-top: 8px; color: var(--muted); font-size: 13px;\n}\n\n.bar{\n  margin-top: 16px; display: flex; gap: 12px; align-items: center; justify-content: space-between;\n  border-top: 1px dashed var(--line); padding-top: 12px;\n}\n.mini .muted{ color: var(--muted); font-size: 12px; }\n.total{ font-weight: 800; font-size: 18px; letter-spacing: .2px; }\n.cells{ color: var(--brand); font-weight: 700; margin-left: 4px; }\n\n.cells-prev{\n  margin-top: 6px;\n  display: flex; flex-wrap: wrap; gap: 4px;\n  max-width: 360px;\n}\n.cells-prev span{\n  width: 8px; height: 8px; border-radius: 2px;\n  background: linear-gradient(180deg, #24d069, #16a34a);\n  box-shadow: 0 1px 2px rgba(0,0,0,.25);\n}\n.cells-prev .more{\n  margin-left: 6px; color: var(--muted); font-size: 12px;\n  align-self: center;\n}\n\n.footnote{ color: var(--muted); font-size: 12px; margin-top: 6px; }\n\n.cta{\n  appearance: none; border: none; cursor: pointer;\n  background: var(--brand); color: white; font-weight: 700;\n  padding: 12px 16px; border-radius: 12px; min-width: 220px;\n  box-shadow: 0 6px 24px rgba(22,163,74,.25);\n  transition: transform .06s ease, box-shadow .12s ease, opacity .12s ease;\n}\n.cta:hover{ transform: translateY(-1px); box-shadow: 0 10px 30px rgba(22,163,74,.35); }\n.cta:active{ transform: translateY(0); box-shadow: 0 6px 18px rgba(22,163,74,.28); }\n.cta[aria-busy=\"true\"]{ opacity: .75; cursor: default; }\n\n.error{\n  margin-top: 12px; padding: 10px 12px;\n  background: rgba(220,38,38, .12); border: 1px solid #7f1d1d; color: #fecaca;\n  border-radius: 10px; font-size: 13px;\n}\n\n@media (max-width: 560px){\n  .cta{ min-width: 140px; width: 100%; }\n  .bar{ flex-direction: column; align-items: stretch; }\n}\n      `\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 253,\n    columnNumber: 5\n  }, this);\n}\n_c3 = Style;\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"CellsPreview\");\n$RefreshReg$(_c2, \"PaymentIntro\");\n$RefreshReg$(_c3, \"Style\");","map":{"version":3,"names":["React","useMemo","useState","jsxDEV","_jsxDEV","API_BASE","process","env","REACT_APP_API_BASE","_import$meta","import","meta","VITE_API_BASE","CENTS_PER_CELL","Number","_import$meta2","VITE_CENTS_PER_CELL","REACT_APP_CENTS_PER_CELL","PRESETS","label","amountCents","CellsPreview","count","n","Math","min","className","children","Array","from","length","map","_","i","fileName","_jsxFileName","lineNumber","columnNumber","_c","PaymentIntro","_s","mode","setMode","selected","setSelected","customAmount","setCustomAmount","message","setMessage","submitting","setSubmitting","err","setErr","max","round","cells","floor","startCheckout","e","preventDefault","res","fetch","method","headers","body","JSON","stringify","amount","currency","data","json","ok","Error","error","window","location","href","url","pickPreset","cents","step","delta","v","String","Style","role","type","onClick","p","c","isActive","disabled","value","onChange","target","inputMode","style","marginTop","rows","maxLength","placeholder","toFixed","_c2","_c3","$RefreshReg$"],"sources":["/Users/jonathandowdell/Workstation/React/million-pixel-app/src/pages/PaymentIntro.jsx"],"sourcesContent":["import React, { useMemo, useState } from \"react\";\n\nconst API_BASE =\n  process.env.REACT_APP_API_BASE ||\n  (import.meta?.env && import.meta.env.VITE_API_BASE) ||\n  \"http://localhost:3001\";\n\n/** UI-only constant. Backend enforces with CENTS_PER_CELL. */\nconst CENTS_PER_CELL = Number(\n  (import.meta?.env && import.meta.env.VITE_CENTS_PER_CELL) ||\n    process.env.REACT_APP_CENTS_PER_CELL ||\n    2500 // $25 per cell\n);\n\n/** Presets use the amount-based endpoint (no Stripe Price IDs needed). */\nconst PRESETS = [\n  { label: \"$25\", amountCents: 2500 },\n  { label: \"$50\", amountCents: 5000 },\n  { label: \"$100\", amountCents: 10000 },\n  { label: \"$250\", amountCents: 25000 },\n];\n\n/* ---- tiny visual preview of cell count ---- */\nfunction CellsPreview({ count }) {\n  const n = Math.min(count, 60);\n  return (\n    <div className=\"cells-prev\" aria-hidden=\"true\">\n      {Array.from({ length: n }).map((_, i) => (\n        <span key={i} />\n      ))}\n      {count > n && <span className=\"more\">+{count - n}</span>}\n    </div>\n  );\n}\n\nexport default function PaymentIntro() {\n  const [mode, setMode] = useState(\"preset\"); // 'preset' | 'custom'\n  const [selected, setSelected] = useState(PRESETS[0].amountCents);\n  const [customAmount, setCustomAmount] = useState(\"25\");\n  const [message, setMessage] = useState(\"\");\n  const [submitting, setSubmitting] = useState(false);\n  const [err, setErr] = useState(\"\");\n\n  const amountCents =\n    mode === \"preset\"\n      ? selected\n      : Math.max(0, Math.round((Number(customAmount) || 0) * 100));\n\n  const cells = useMemo(\n    () => Math.floor(amountCents / CENTS_PER_CELL),\n    [amountCents]\n  );\n\n  async function startCheckout(e) {\n    e.preventDefault();\n    setErr(\"\");\n    if (amountCents < 100) {\n      setErr(\"Minimum is $1.00.\");\n      return;\n    }\n    try {\n      setSubmitting(true);\n      const res = await fetch(`${API_BASE}/create-checkout-session`, {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({\n          amount: amountCents,\n          currency: \"usd\",\n          message,\n        }),\n      });\n      const data = await res.json();\n      if (!res.ok) throw new Error(data.error || \"Failed to start checkout\");\n      window.location.href = data.url;\n    } catch (e) {\n      setErr(e.message);\n      setSubmitting(false);\n    }\n  }\n\n  function pickPreset(cents) {\n    setSelected(cents);\n    setMode(\"preset\");\n  }\n\n  function step(delta) {\n    const v = Math.max(1, Math.round((Number(customAmount) || 0) + delta));\n    setCustomAmount(String(v));\n  }\n\n  return (\n    <div className=\"support-wrap\">\n      <Style />\n\n      <header className=\"support-header\">\n        <h1>Support the Reveal</h1>\n        <p>Every dollar helps uncover the image. $25 reveals one cell.</p>\n      </header>\n\n      <div className=\"card\">\n        <div className=\"seg\" role=\"tablist\" aria-label=\"Amount mode\">\n          <button\n            type=\"button\"\n            role=\"tab\"\n            aria-selected={mode === \"preset\"}\n            className={`seg-btn ${mode === \"preset\" ? \"active\" : \"\"}`}\n            onClick={() => setMode(\"preset\")}\n          >\n            Presets\n          </button>\n          <button\n            type=\"button\"\n            role=\"tab\"\n            aria-selected={mode === \"custom\"}\n            className={`seg-btn ${mode === \"custom\" ? \"active\" : \"\"}`}\n            onClick={() => setMode(\"custom\")}\n          >\n            Custom\n          </button>\n        </div>\n\n        {mode === \"preset\" ? (\n          <div className=\"grid\">\n            {PRESETS.map((p) => {\n              const c = Math.floor(p.amountCents / CENTS_PER_CELL);\n              const isActive = selected === p.amountCents;\n              return (\n                <button\n                  key={p.amountCents}\n                  type=\"button\"\n                  className={`tile ${isActive ? \"tile-active\" : \"\"}`}\n                  onClick={() => pickPreset(p.amountCents)}\n                  disabled={submitting}\n                >\n                  {isActive && <span className=\"tick\">✓</span>}\n                  <div className=\"tile-amount\">{p.label}</div>\n                  <div className=\"tile-sub\">\n                    +{c} {c === 1 ? \"cell\" : \"cells\"}\n                  </div>\n                </button>\n              );\n            })}\n          </div>\n        ) : (\n          <div className=\"custom\">\n            <label className=\"field\">\n              <span className=\"field-label\">Amount (USD)</span>\n              <div className=\"number\">\n                <button\n                  type=\"button\"\n                  className=\"steppy\"\n                  onClick={() => step(-5)}\n                  disabled={submitting}\n                  aria-label=\"minus 5\"\n                >\n                  −5\n                </button>\n                <button\n                  type=\"button\"\n                  className=\"steppy\"\n                  onClick={() => step(-1)}\n                  disabled={submitting}\n                  aria-label=\"minus 1\"\n                >\n                  −1\n                </button>\n                <input\n                  className=\"num-input\"\n                  type=\"number\"\n                  min=\"1\"\n                  step=\"1\"\n                  value={customAmount}\n                  onChange={(e) => setCustomAmount(e.target.value)}\n                  disabled={submitting}\n                  inputMode=\"decimal\"\n                />\n                <button\n                  type=\"button\"\n                  className=\"steppy\"\n                  onClick={() => step(1)}\n                  disabled={submitting}\n                  aria-label=\"plus 1\"\n                >\n                  +1\n                </button>\n                <button\n                  type=\"button\"\n                  className=\"steppy\"\n                  onClick={() => step(5)}\n                  disabled={submitting}\n                  aria-label=\"plus 5\"\n                >\n                  +5\n                </button>\n              </div>\n            </label>\n\n            <div className=\"hint\">\n              Estimated: <b>+{cells}</b> {cells === 1 ? \"cell\" : \"cells\"} ( $\n              {CENTS_PER_CELL / 100} per cell)\n            </div>\n          </div>\n        )}\n\n        <label className=\"field\" style={{ marginTop: 14 }}>\n          <span className=\"field-label\">Message (optional)</span>\n          <textarea\n            rows={4}\n            maxLength={500}\n            placeholder=\"Say something to be recorded with your purchase…\"\n            value={message}\n            onChange={(e) => setMessage(e.target.value)}\n            disabled={submitting}\n          />\n          <div className=\"count\">{message.length}/500</div>\n        </label>\n\n        <div className=\"bar\">\n          <div className=\"mini\">\n            <span className=\"muted\">You’ll be charged</span>\n            <div className=\"total\">\n              ${(amountCents / 100).toFixed(2)}\n              {cells > 0 && (\n                <span className=\"cells\">\n                  {\" \"}\n                  (+{cells} {cells === 1 ? \"cell\" : \"cells\"})\n                </span>\n              )}\n            </div>\n            {cells > 0 && <CellsPreview count={cells} />}\n            <div className=\"footnote\">Minimum $1. Message always saved.</div>\n          </div>\n\n          <button\n            className=\"cta\"\n            onClick={startCheckout}\n            disabled={submitting}\n            aria-busy={submitting}\n          >\n            {submitting ? \"Redirecting…\" : \"Continue to Checkout\"}\n          </button>\n        </div>\n\n        {err && <div className=\"error\">{err}</div>}\n      </div>\n    </div>\n  );\n}\n\n/* -------- styles (scoped) -------- */\nfunction Style() {\n  return (\n    <style>{`\n:root{\n  --bg: #0b1220;\n  --card: #0f172a;\n  --muted: #94a3b8;\n  --line: #334155;\n  --text: #e2e8f0;\n  --brand: #16a34a;\n  --brand-2: #15803d;\n  --pill: #111827;\n  --tile: #111827;\n  --tile-hover: #0b1220;\n  --shadow: 0 12px 40px rgba(0,0,0,.35), 0 2px 8px rgba(0,0,0,.2);\n}\n\n.support-wrap{\n  min-height: 100vh;\n  display: grid;           /* center on tall screens */\n  align-items: start;\n  color: var(--text);\n  background: radial-gradient(1000px 600px at 20% -10%, #19324b 0%, transparent 40%),\n              radial-gradient(800px 500px at 100% 0%, #1b2d24 0%, transparent 35%),\n              var(--bg);\n  padding: 24px 16px 48px;\n}\n@media (min-height: 820px){\n  .support-wrap{ align-items: center; }\n}\n\n.support-header{\n  max-width: 860px;\n  margin: 0 auto 16px;\n  padding: 0 8px;\n}\n.support-header h1{\n  margin: 0 0 6px;\n  font-size: 28px;\n  letter-spacing: .2px;\n}\n.support-header p{\n  margin: 0;\n  color: var(--muted);\n}\n\n.card{\n  max-width: 860px;\n  margin: 12px auto 0;\n  background: linear-gradient(180deg, rgba(255,255,255,.04), rgba(255,255,255,.02));\n  border: 1px solid rgba(51,65,85,.85);\n  border-radius: 16px;\n  box-shadow: var(--shadow);\n  padding: 18px;\n  backdrop-filter: blur(10px);\n  -webkit-backdrop-filter: blur(10px);\n}\n\n.seg{\n  display: inline-flex;\n  border: 1px solid var(--line);\n  border-radius: 12px;\n  padding: 4px;\n  background: var(--pill);\n  margin-bottom: 14px;\n}\n.seg-btn{\n  appearance: none;\n  background: transparent;\n  color: var(--text);\n  border: none;\n  padding: 8px 14px;\n  border-radius: 8px;\n  cursor: pointer;\n  font-weight: 600;\n}\n.seg-btn.active{\n  background: #0b1629;\n  outline: 1px solid var(--line);\n}\n\n.grid{\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));\n  gap: 10px;\n}\n.tile{\n  position: relative; /* for tick */\n  text-align: left;\n  background: var(--tile);\n  border: 1px solid var(--line);\n  border-radius: 12px;\n  padding: 14px;\n  cursor: pointer;\n  transition: transform .06s ease, background .12s ease;\n}\n.tile:hover{ background: var(--tile-hover); transform: translateY(-2px) scale(1.01); }\n.tile:focus-visible{ outline: 2px solid var(--brand); outline-offset: 2px; }\n.tile-active{ outline: 2px solid var(--brand); }\n.tile-amount{ font-size: 18px; font-weight: 700; }\n.tile-sub{ margin-top: 6px; color: var(--muted); font-size: 13px; }\n\n.tick{\n  position: absolute;\n  top: 10px; right: 10px;\n  width: 22px; height: 22px; line-height: 22px;\n  border-radius: 999px;\n  background: var(--brand);\n  color: white; font-weight: 800; font-size: 12px;\n  display: inline-flex; align-items: center; justify-content: center;\n  box-shadow: 0 4px 10px rgba(22,163,74,.35);\n}\n\n.custom{ margin-top: 6px; }\n.field{ display: block; }\n.field + .field{ margin-top: 12px; }\n.field-label{ display: block; font-size: 13px; color: var(--muted); margin-bottom: 6px; }\n\n.number{\n  display: flex; align-items: center; gap: 8px;\n  background: var(--pill); border: 1px solid var(--line); border-radius: 12px; padding: 8px;\n}\n.num-input{\n  inline-size: 120px;\n  background: #0b1220; color: var(--text);\n  border: 1px solid var(--line); border-radius: 10px;\n  padding: 10px 12px; font-size: 16px;\n}\n.steppy{\n  background: #0b1629; color: var(--text);\n  border: 1px solid var(--line); border-radius: 8px;\n  padding: 8px 10px; cursor: pointer; font-weight: 700; min-width: 44px;\n}\n\ntextarea{\n  width: 100%; resize: vertical;\n  background: #0b1220; color: var(--text);\n  border: 1px solid var(--line); border-radius: 12px;\n  padding: 10px 12px; font-size: 14px; line-height: 1.35;\n}\n.count{ text-align: right; color: var(--muted); font-size: 12px; margin-top: 4px; }\n\n.hint{\n  margin-top: 8px; color: var(--muted); font-size: 13px;\n}\n\n.bar{\n  margin-top: 16px; display: flex; gap: 12px; align-items: center; justify-content: space-between;\n  border-top: 1px dashed var(--line); padding-top: 12px;\n}\n.mini .muted{ color: var(--muted); font-size: 12px; }\n.total{ font-weight: 800; font-size: 18px; letter-spacing: .2px; }\n.cells{ color: var(--brand); font-weight: 700; margin-left: 4px; }\n\n.cells-prev{\n  margin-top: 6px;\n  display: flex; flex-wrap: wrap; gap: 4px;\n  max-width: 360px;\n}\n.cells-prev span{\n  width: 8px; height: 8px; border-radius: 2px;\n  background: linear-gradient(180deg, #24d069, #16a34a);\n  box-shadow: 0 1px 2px rgba(0,0,0,.25);\n}\n.cells-prev .more{\n  margin-left: 6px; color: var(--muted); font-size: 12px;\n  align-self: center;\n}\n\n.footnote{ color: var(--muted); font-size: 12px; margin-top: 6px; }\n\n.cta{\n  appearance: none; border: none; cursor: pointer;\n  background: var(--brand); color: white; font-weight: 700;\n  padding: 12px 16px; border-radius: 12px; min-width: 220px;\n  box-shadow: 0 6px 24px rgba(22,163,74,.25);\n  transition: transform .06s ease, box-shadow .12s ease, opacity .12s ease;\n}\n.cta:hover{ transform: translateY(-1px); box-shadow: 0 10px 30px rgba(22,163,74,.35); }\n.cta:active{ transform: translateY(0); box-shadow: 0 6px 18px rgba(22,163,74,.28); }\n.cta[aria-busy=\"true\"]{ opacity: .75; cursor: default; }\n\n.error{\n  margin-top: 12px; padding: 10px 12px;\n  background: rgba(220,38,38, .12); border: 1px solid #7f1d1d; color: #fecaca;\n  border-radius: 10px; font-size: 13px;\n}\n\n@media (max-width: 560px){\n  .cta{ min-width: 140px; width: 100%; }\n  .bar{ flex-direction: column; align-items: stretch; }\n}\n      `}</style>\n  );\n}\n"],"mappings":"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AAA,GAAZ/D,YAAY;AAuNpC,SAAS6C,KAAKA,CAAA,EAAG;EACf,oBACEhF,OAAA;IAAAuB,QAAA,EAAQ;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EAAO;IAAAO,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAQ,CAAC;AAEhB;AAACkE,GAAA,GAlMQnB,KAAK;AAAA,IAAA9C,EAAA,EAAAgE,GAAA,EAAAC,GAAA;AAAAC,YAAA,CAAAlE,EAAA;AAAAkE,YAAA,CAAAF,GAAA;AAAAE,YAAA,CAAAD,GAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}