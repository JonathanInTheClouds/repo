{"ast":null,"code":"var _jsxFileName = \"/Users/jonathandowdell/Workstation/React/million-pixel-app/src/pages/SimulatePage.js\",\n  _import$meta,\n  _s = $RefreshSig$();\nimport React, { useRef, useState } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API_BASE = process.env.REACT_APP_API_BASE || ((_import$meta = import.meta) === null || _import$meta === void 0 ? void 0 : _import$meta.env) && import.meta.env.VITE_API_BASE || \"http://localhost:3001\";\nasync function postJSON(url, body) {\n  const res = await fetch(url, {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify(body || {})\n  });\n  const ct = res.headers.get(\"content-type\") || \"\";\n  if (!ct.includes(\"application/json\")) {\n    const text = await res.text();\n    throw new Error(`Expected JSON but got \"${ct}\". Body:\\n${text.slice(0, 300)}`);\n  }\n  const data = await res.json();\n  if (!res.ok) throw new Error((data === null || data === void 0 ? void 0 : data.error) || \"Request failed\");\n  return data;\n}\nconst sleep = ms => new Promise(r => setTimeout(r, ms));\nexport default function SimulatePage() {\n  _s();\n  const [busy, setBusy] = useState(false);\n  const [log, setLog] = useState([]);\n  const [delayMs, setDelayMs] = useState(120); // base delay between events\n  const [jitterMs, setJitterMs] = useState(80); // +/- random extra\n  const [progress, setProgress] = useState({\n    done: 0,\n    total: 0,\n    label: \"\"\n  });\n  const cancelRef = useRef(false);\n  const addLog = line => setLog(l => [line, ...l].slice(0, 400));\n  async function runSingle(amountCents, message) {\n    setBusy(true);\n    setProgress({\n      done: 0,\n      total: 1,\n      label: \"Single\"\n    });\n    cancelRef.current = false;\n    try {\n      await postJSON(`${API_BASE}/simulate/purchase`, {\n        amountCents,\n        message\n      });\n      addLog(`Single: $${(amountCents / 100).toFixed(2)} → 1 event sent`);\n    } catch (e) {\n      addLog(`Error: ${e.message}`);\n      alert(e.message);\n    } finally {\n      setBusy(false);\n      setProgress({\n        done: 0,\n        total: 0,\n        label: \"\"\n      });\n    }\n  }\n  async function runBatchSequential(entries, label = \"Batch\") {\n    setBusy(true);\n    cancelRef.current = false;\n    setProgress({\n      done: 0,\n      total: entries.length,\n      label\n    });\n    try {\n      let done = 0;\n      for (const ent of entries) {\n        if (cancelRef.current) {\n          addLog(`Cancelled after ${done}/${entries.length}`);\n          break;\n        }\n        try {\n          await postJSON(`${API_BASE}/simulate/purchase`, ent);\n          done += 1;\n          setProgress({\n            done,\n            total: entries.length,\n            label\n          });\n          if (ent.message) addLog(`$${(ent.amountCents / 100).toFixed(2)} — “${ent.message}”`);\n        } catch (e) {\n          addLog(`Error(#${done + 1}): ${e.message}`);\n        }\n        const jitter = jitterMs > 0 ? Math.floor(Math.random() * (jitterMs + 1)) : 0;\n        await sleep(delayMs + jitter);\n      }\n      addLog(`${label} complete: ${done}/${entries.length} events`);\n    } finally {\n      setBusy(false);\n      setTimeout(() => setProgress({\n        done: 0,\n        total: 0,\n        label: \"\"\n      }), 500);\n    }\n  }\n\n  // Presets (paced)\n  const do100x25 = () => runBatchSequential(Array.from({\n    length: 100\n  }, () => ({\n    amountCents: 2500,\n    message: \"Sim $25\"\n  })), \"100 × $25 (paced)\");\n  const do100x50 = () => runBatchSequential(Array.from({\n    length: 100\n  }, () => ({\n    amountCents: 5000,\n    message: \"Sim $50\"\n  })), \"100 × $50 (paced)\");\n  const do100x100 = () => runBatchSequential(Array.from({\n    length: 100\n  }, () => ({\n    amountCents: 10000,\n    message: \"Sim $100\"\n  })), \"100 × $100 (paced)\");\n  const doMixed300 = () => {\n    const options = [{\n      amountCents: 2500,\n      message: \"Sim $25\"\n    }, {\n      amountCents: 5000,\n      message: \"Sim $50\"\n    }, {\n      amountCents: 10000,\n      message: \"Sim $100\"\n    }];\n    const entries = Array.from({\n      length: 300\n    }, () => options[Math.floor(Math.random() * options.length)]);\n    return runBatchSequential(entries, \"300 Mixed (paced)\");\n  };\n  const cancel = () => {\n    cancelRef.current = true;\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"simulate-wrap\",\n    children: [/*#__PURE__*/_jsxDEV(\"style\", {\n      children: `\n        .simulate-wrap{\n          min-height: 100vh;\n          padding: 24px 16px 64px;\n          display:flex; justify-content:center; align-items:flex-start;\n          background: radial-gradient(900px 500px at 0% -10%, #1a2e4a 0%, transparent 40%),\n                      radial-gradient(900px 600px at 100% 0%, #1b2d24 0%, transparent 35%),\n                      #0b1220;\n          color: #e2e8f0;\n        }\n        .panel{ width: min(1000px, 100%); display:grid; grid-template-columns: 1fr 1fr; gap: 16px; }\n        .card{\n          background: rgba(2,6,23,.7);\n          border: 1px solid rgba(148,163,184,.25);\n          border-radius: 12px; padding: 16px;\n          backdrop-filter: blur(6px);\n        }\n        .controls{ display:grid; grid-template-columns: repeat(2, 1fr); gap: 12px; margin-bottom: 12px; }\n        .field{ display:flex; align-items:center; gap: 8px; }\n        .field input{\n          width: 110px; padding: 8px 10px; border-radius: 8px; border: 1px solid #334155;\n          background:#0f172a; color:#e2e8f0;\n        }\n        .btns{ display:flex; flex-wrap: wrap; gap: 8px; }\n        button{\n          padding: 10px 14px; border-radius: 10px; border: 1px solid #334155;\n          background: #111827; color: #e2e8f0; cursor: pointer;\n        }\n        button:disabled{ opacity:.5; cursor:not-allowed; }\n        .cta{ background: #16a34a; border-color: #16a34a; color: white; }\n        .danger{ background: #dc2626; border-color: #dc2626; color: white; }\n        .log{ font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, \"Liberation Mono\", \"Courier New\", monospace;\n              font-size: 12px; line-height: 1.4; max-height: 360px; overflow:auto; }\n        .row{ padding: 6px 0; border-bottom: 1px dashed rgba(148,163,184,.2); }\n        .progress{ display:flex; align-items:center; gap: 10px; margin-top: 8px; }\n        .bar{ flex:1; height: 8px; background:#0f172a; border:1px solid #334155; border-radius: 999px; overflow: hidden; }\n        .fill{ height:100%; background:#16a34a; width:0%; }\n      `\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"panel\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Simulate Purchases (paced)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 174,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"controls\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"field\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Delay (ms)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 178,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"number\",\n              min: \"0\",\n              step: \"10\",\n              value: delayMs,\n              onChange: e => setDelayMs(Math.max(0, Number(e.target.value) || 0))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 179,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 177,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"field\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Jitter (ms)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 190,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"number\",\n              min: \"0\",\n              step: \"10\",\n              value: jitterMs,\n              onChange: e => setJitterMs(Math.max(0, Number(e.target.value) || 0))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 191,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 189,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"btns\",\n          style: {\n            marginBottom: 12\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            disabled: busy,\n            onClick: () => runSingle(2500, \"Sim $25\"),\n            children: \"Single $25\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 204,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            disabled: busy,\n            onClick: () => runSingle(5000, \"Sim $50\"),\n            children: \"Single $50\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 207,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            disabled: busy,\n            onClick: () => runSingle(10000, \"Sim $100\"),\n            children: \"Single $100\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 210,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n          style: {\n            marginTop: 8\n          },\n          children: \"Batches (sequential with delay)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 218,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"btns\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            disabled: busy,\n            onClick: do100x25,\n            children: \"100 \\xD7 $25\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 220,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            disabled: busy,\n            onClick: do100x50,\n            children: \"100 \\xD7 $50\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 223,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            disabled: busy,\n            onClick: do100x100,\n            children: \"100 \\xD7 $100\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 226,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            disabled: busy,\n            className: \"cta\",\n            onClick: doMixed300,\n            children: \"300 Mixed\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 229,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            disabled: !busy,\n            className: \"danger\",\n            onClick: cancel,\n            children: \"Stop\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 232,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 219,\n          columnNumber: 11\n        }, this), progress.total > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"progress\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              minWidth: 120\n            },\n            children: [progress.label, \": \", progress.done, \"/\", progress.total]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 239,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bar\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"fill\",\n              style: {\n                width: `${Math.round(progress.done / progress.total * 100)}%`\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 243,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 242,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 238,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Log\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 257,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"log\",\n          role: \"log\",\n          \"aria-live\": \"polite\",\n          children: log.map((line, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row\",\n            children: line\n          }, i, false, {\n            fileName: _jsxFileName,\n            lineNumber: 260,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 258,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 132,\n    columnNumber: 5\n  }, this);\n}\n_s(SimulatePage, \"PXn6yr0U3ttkJozoKDw5WWJCm9M=\");\n_c = SimulatePage;\nvar _c;\n$RefreshReg$(_c, \"SimulatePage\");","map":{"version":3,"names":["React","useRef","useState","jsxDEV","_jsxDEV","API_BASE","process","env","REACT_APP_API_BASE","_import$meta","import","meta","VITE_API_BASE","postJSON","url","body","res","fetch","method","headers","JSON","stringify","ct","get","includes","text","Error","slice","data","json","ok","error","sleep","ms","Promise","r","setTimeout","SimulatePage","_s","busy","setBusy","log","setLog","delayMs","setDelayMs","jitterMs","setJitterMs","progress","setProgress","done","total","label","cancelRef","addLog","line","l","runSingle","amountCents","message","current","toFixed","e","alert","runBatchSequential","entries","length","ent","jitter","Math","floor","random","do100x25","Array","from","do100x50","do100x100","doMixed300","options","cancel","className","children","fileName","_jsxFileName","lineNumber","columnNumber","type","min","step","value","onChange","max","Number","target","style","marginBottom","disabled","onClick","marginTop","minWidth","width","round","role","map","i","_c","$RefreshReg$"],"sources":["/Users/jonathandowdell/Workstation/React/million-pixel-app/src/pages/SimulatePage.js"],"sourcesContent":["import React, { useRef, useState } from \"react\";\n\nconst API_BASE =\n  process.env.REACT_APP_API_BASE ||\n  (import.meta?.env && import.meta.env.VITE_API_BASE) ||\n  \"http://localhost:3001\";\n\nasync function postJSON(url, body) {\n  const res = await fetch(url, {\n    method: \"POST\",\n    headers: { \"Content-Type\": \"application/json\" },\n    body: JSON.stringify(body || {}),\n  });\n  const ct = res.headers.get(\"content-type\") || \"\";\n  if (!ct.includes(\"application/json\")) {\n    const text = await res.text();\n    throw new Error(\n      `Expected JSON but got \"${ct}\". Body:\\n${text.slice(0, 300)}`\n    );\n  }\n  const data = await res.json();\n  if (!res.ok) throw new Error(data?.error || \"Request failed\");\n  return data;\n}\n\nconst sleep = (ms) => new Promise((r) => setTimeout(r, ms));\n\nexport default function SimulatePage() {\n  const [busy, setBusy] = useState(false);\n  const [log, setLog] = useState([]);\n  const [delayMs, setDelayMs] = useState(120); // base delay between events\n  const [jitterMs, setJitterMs] = useState(80); // +/- random extra\n  const [progress, setProgress] = useState({ done: 0, total: 0, label: \"\" });\n  const cancelRef = useRef(false);\n\n  const addLog = (line) => setLog((l) => [line, ...l].slice(0, 400));\n\n  async function runSingle(amountCents, message) {\n    setBusy(true);\n    setProgress({ done: 0, total: 1, label: \"Single\" });\n    cancelRef.current = false;\n    try {\n      await postJSON(`${API_BASE}/simulate/purchase`, { amountCents, message });\n      addLog(`Single: $${(amountCents / 100).toFixed(2)} → 1 event sent`);\n    } catch (e) {\n      addLog(`Error: ${e.message}`);\n      alert(e.message);\n    } finally {\n      setBusy(false);\n      setProgress({ done: 0, total: 0, label: \"\" });\n    }\n  }\n\n  async function runBatchSequential(entries, label = \"Batch\") {\n    setBusy(true);\n    cancelRef.current = false;\n    setProgress({ done: 0, total: entries.length, label });\n\n    try {\n      let done = 0;\n      for (const ent of entries) {\n        if (cancelRef.current) {\n          addLog(`Cancelled after ${done}/${entries.length}`);\n          break;\n        }\n        try {\n          await postJSON(`${API_BASE}/simulate/purchase`, ent);\n          done += 1;\n          setProgress({ done, total: entries.length, label });\n          if (ent.message)\n            addLog(`$${(ent.amountCents / 100).toFixed(2)} — “${ent.message}”`);\n        } catch (e) {\n          addLog(`Error(#${done + 1}): ${e.message}`);\n        }\n        const jitter =\n          jitterMs > 0 ? Math.floor(Math.random() * (jitterMs + 1)) : 0;\n        await sleep(delayMs + jitter);\n      }\n      addLog(`${label} complete: ${done}/${entries.length} events`);\n    } finally {\n      setBusy(false);\n      setTimeout(() => setProgress({ done: 0, total: 0, label: \"\" }), 500);\n    }\n  }\n\n  // Presets (paced)\n  const do100x25 = () =>\n    runBatchSequential(\n      Array.from({ length: 100 }, () => ({\n        amountCents: 2500,\n        message: \"Sim $25\",\n      })),\n      \"100 × $25 (paced)\"\n    );\n\n  const do100x50 = () =>\n    runBatchSequential(\n      Array.from({ length: 100 }, () => ({\n        amountCents: 5000,\n        message: \"Sim $50\",\n      })),\n      \"100 × $50 (paced)\"\n    );\n\n  const do100x100 = () =>\n    runBatchSequential(\n      Array.from({ length: 100 }, () => ({\n        amountCents: 10000,\n        message: \"Sim $100\",\n      })),\n      \"100 × $100 (paced)\"\n    );\n\n  const doMixed300 = () => {\n    const options = [\n      { amountCents: 2500, message: \"Sim $25\" },\n      { amountCents: 5000, message: \"Sim $50\" },\n      { amountCents: 10000, message: \"Sim $100\" },\n    ];\n    const entries = Array.from(\n      { length: 300 },\n      () => options[Math.floor(Math.random() * options.length)]\n    );\n    return runBatchSequential(entries, \"300 Mixed (paced)\");\n  };\n\n  const cancel = () => {\n    cancelRef.current = true;\n  };\n\n  return (\n    <div className=\"simulate-wrap\">\n      <style>{`\n        .simulate-wrap{\n          min-height: 100vh;\n          padding: 24px 16px 64px;\n          display:flex; justify-content:center; align-items:flex-start;\n          background: radial-gradient(900px 500px at 0% -10%, #1a2e4a 0%, transparent 40%),\n                      radial-gradient(900px 600px at 100% 0%, #1b2d24 0%, transparent 35%),\n                      #0b1220;\n          color: #e2e8f0;\n        }\n        .panel{ width: min(1000px, 100%); display:grid; grid-template-columns: 1fr 1fr; gap: 16px; }\n        .card{\n          background: rgba(2,6,23,.7);\n          border: 1px solid rgba(148,163,184,.25);\n          border-radius: 12px; padding: 16px;\n          backdrop-filter: blur(6px);\n        }\n        .controls{ display:grid; grid-template-columns: repeat(2, 1fr); gap: 12px; margin-bottom: 12px; }\n        .field{ display:flex; align-items:center; gap: 8px; }\n        .field input{\n          width: 110px; padding: 8px 10px; border-radius: 8px; border: 1px solid #334155;\n          background:#0f172a; color:#e2e8f0;\n        }\n        .btns{ display:flex; flex-wrap: wrap; gap: 8px; }\n        button{\n          padding: 10px 14px; border-radius: 10px; border: 1px solid #334155;\n          background: #111827; color: #e2e8f0; cursor: pointer;\n        }\n        button:disabled{ opacity:.5; cursor:not-allowed; }\n        .cta{ background: #16a34a; border-color: #16a34a; color: white; }\n        .danger{ background: #dc2626; border-color: #dc2626; color: white; }\n        .log{ font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, \"Liberation Mono\", \"Courier New\", monospace;\n              font-size: 12px; line-height: 1.4; max-height: 360px; overflow:auto; }\n        .row{ padding: 6px 0; border-bottom: 1px dashed rgba(148,163,184,.2); }\n        .progress{ display:flex; align-items:center; gap: 10px; margin-top: 8px; }\n        .bar{ flex:1; height: 8px; background:#0f172a; border:1px solid #334155; border-radius: 999px; overflow: hidden; }\n        .fill{ height:100%; background:#16a34a; width:0%; }\n      `}</style>\n\n      <div className=\"panel\">\n        <div className=\"card\">\n          <h3>Simulate Purchases (paced)</h3>\n\n          <div className=\"controls\">\n            <div className=\"field\">\n              <label>Delay (ms)</label>\n              <input\n                type=\"number\"\n                min=\"0\"\n                step=\"10\"\n                value={delayMs}\n                onChange={(e) =>\n                  setDelayMs(Math.max(0, Number(e.target.value) || 0))\n                }\n              />\n            </div>\n            <div className=\"field\">\n              <label>Jitter (ms)</label>\n              <input\n                type=\"number\"\n                min=\"0\"\n                step=\"10\"\n                value={jitterMs}\n                onChange={(e) =>\n                  setJitterMs(Math.max(0, Number(e.target.value) || 0))\n                }\n              />\n            </div>\n          </div>\n\n          <div className=\"btns\" style={{ marginBottom: 12 }}>\n            <button disabled={busy} onClick={() => runSingle(2500, \"Sim $25\")}>\n              Single $25\n            </button>\n            <button disabled={busy} onClick={() => runSingle(5000, \"Sim $50\")}>\n              Single $50\n            </button>\n            <button\n              disabled={busy}\n              onClick={() => runSingle(10000, \"Sim $100\")}\n            >\n              Single $100\n            </button>\n          </div>\n\n          <h4 style={{ marginTop: 8 }}>Batches (sequential with delay)</h4>\n          <div className=\"btns\">\n            <button disabled={busy} onClick={do100x25}>\n              100 × $25\n            </button>\n            <button disabled={busy} onClick={do100x50}>\n              100 × $50\n            </button>\n            <button disabled={busy} onClick={do100x100}>\n              100 × $100\n            </button>\n            <button disabled={busy} className=\"cta\" onClick={doMixed300}>\n              300 Mixed\n            </button>\n            <button disabled={!busy} className=\"danger\" onClick={cancel}>\n              Stop\n            </button>\n          </div>\n\n          {progress.total > 0 && (\n            <div className=\"progress\">\n              <div style={{ minWidth: 120 }}>\n                {progress.label}: {progress.done}/{progress.total}\n              </div>\n              <div className=\"bar\">\n                <div\n                  className=\"fill\"\n                  style={{\n                    width: `${Math.round(\n                      (progress.done / progress.total) * 100\n                    )}%`,\n                  }}\n                />\n              </div>\n            </div>\n          )}\n        </div>\n\n        <div className=\"card\">\n          <h3>Log</h3>\n          <div className=\"log\" role=\"log\" aria-live=\"polite\">\n            {log.map((line, i) => (\n              <div className=\"row\" key={i}>\n                {line}\n              </div>\n            ))}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"mappings":";;;AAAA,OAAOA,KAAK,IAAIC,MAAM,EAAEC,QAAQ,QAAQ,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEhD,MAAMC,QAAQ,GACZC,OAAO,CAACC,GAAG,CAACC,kBAAkB,IAC7B,EAAAC,YAAA,GAAAC,MAAM,CAACC,IAAI,cAAAF,YAAA,uBAAXA,YAAA,CAAaF,GAAG,KAAIG,MAAM,CAACC,IAAI,CAACJ,GAAG,CAACK,aAAc,IACnD,uBAAuB;AAEzB,eAAeC,QAAQA,CAACC,GAAG,EAAEC,IAAI,EAAE;EACjC,MAAMC,GAAG,GAAG,MAAMC,KAAK,CAACH,GAAG,EAAE;IAC3BI,MAAM,EAAE,MAAM;IACdC,OAAO,EAAE;MAAE,cAAc,EAAE;IAAmB,CAAC;IAC/CJ,IAAI,EAAEK,IAAI,CAACC,SAAS,CAACN,IAAI,IAAI,CAAC,CAAC;EACjC,CAAC,CAAC;EACF,MAAMO,EAAE,GAAGN,GAAG,CAACG,OAAO,CAACI,GAAG,CAAC,cAAc,CAAC,IAAI,EAAE;EAChD,IAAI,CAACD,EAAE,CAACE,QAAQ,CAAC,kBAAkB,CAAC,EAAE;IACpC,MAAMC,IAAI,GAAG,MAAMT,GAAG,CAACS,IAAI,CAAC,CAAC;IAC7B,MAAM,IAAIC,KAAK,CACb,0BAA0BJ,EAAE,aAAaG,IAAI,CAACE,KAAK,CAAC,CAAC,EAAE,GAAG,CAAC,EAC7D,CAAC;EACH;EACA,MAAMC,IAAI,GAAG,MAAMZ,GAAG,CAACa,IAAI,CAAC,CAAC;EAC7B,IAAI,CAACb,GAAG,CAACc,EAAE,EAAE,MAAM,IAAIJ,KAAK,CAAC,CAAAE,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEG,KAAK,KAAI,gBAAgB,CAAC;EAC7D,OAAOH,IAAI;AACb;AAEA,MAAMI,KAAK,GAAIC,EAAE,IAAK,IAAIC,OAAO,CAAEC,CAAC,IAAKC,UAAU,CAACD,CAAC,EAAEF,EAAE,CAAC,CAAC;AAE3D,eAAe,SAASI,YAAYA,CAAA,EAAG;EAAAC,EAAA;EACrC,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGtC,QAAQ,CAAC,KAAK,CAAC;EACvC,MAAM,CAACuC,GAAG,EAAEC,MAAM,CAAC,GAAGxC,QAAQ,CAAC,EAAE,CAAC;EAClC,MAAM,CAACyC,OAAO,EAAEC,UAAU,CAAC,GAAG1C,QAAQ,CAAC,GAAG,CAAC,CAAC,CAAC;EAC7C,MAAM,CAAC2C,QAAQ,EAAEC,WAAW,CAAC,GAAG5C,QAAQ,CAAC,EAAE,CAAC,CAAC,CAAC;EAC9C,MAAM,CAAC6C,QAAQ,EAAEC,WAAW,CAAC,GAAG9C,QAAQ,CAAC;IAAE+C,IAAI,EAAE,CAAC;IAAEC,KAAK,EAAE,CAAC;IAAEC,KAAK,EAAE;EAAG,CAAC,CAAC;EAC1E,MAAMC,SAAS,GAAGnD,MAAM,CAAC,KAAK,CAAC;EAE/B,MAAMoD,MAAM,GAAIC,IAAI,IAAKZ,MAAM,CAAEa,CAAC,IAAK,CAACD,IAAI,EAAE,GAAGC,CAAC,CAAC,CAAC5B,KAAK,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC;EAElE,eAAe6B,SAASA,CAACC,WAAW,EAAEC,OAAO,EAAE;IAC7ClB,OAAO,CAAC,IAAI,CAAC;IACbQ,WAAW,CAAC;MAAEC,IAAI,EAAE,CAAC;MAAEC,KAAK,EAAE,CAAC;MAAEC,KAAK,EAAE;IAAS,CAAC,CAAC;IACnDC,SAAS,CAACO,OAAO,GAAG,KAAK;IACzB,IAAI;MACF,MAAM9C,QAAQ,CAAC,GAAGR,QAAQ,oBAAoB,EAAE;QAAEoD,WAAW;QAAEC;MAAQ,CAAC,CAAC;MACzEL,MAAM,CAAC,YAAY,CAACI,WAAW,GAAG,GAAG,EAAEG,OAAO,CAAC,CAAC,CAAC,iBAAiB,CAAC;IACrE,CAAC,CAAC,OAAOC,CAAC,EAAE;MACVR,MAAM,CAAC,UAAUQ,CAAC,CAACH,OAAO,EAAE,CAAC;MAC7BI,KAAK,CAACD,CAAC,CAACH,OAAO,CAAC;IAClB,CAAC,SAAS;MACRlB,OAAO,CAAC,KAAK,CAAC;MACdQ,WAAW,CAAC;QAAEC,IAAI,EAAE,CAAC;QAAEC,KAAK,EAAE,CAAC;QAAEC,KAAK,EAAE;MAAG,CAAC,CAAC;IAC/C;EACF;EAEA,eAAeY,kBAAkBA,CAACC,OAAO,EAAEb,KAAK,GAAG,OAAO,EAAE;IAC1DX,OAAO,CAAC,IAAI,CAAC;IACbY,SAAS,CAACO,OAAO,GAAG,KAAK;IACzBX,WAAW,CAAC;MAAEC,IAAI,EAAE,CAAC;MAAEC,KAAK,EAAEc,OAAO,CAACC,MAAM;MAAEd;IAAM,CAAC,CAAC;IAEtD,IAAI;MACF,IAAIF,IAAI,GAAG,CAAC;MACZ,KAAK,MAAMiB,GAAG,IAAIF,OAAO,EAAE;QACzB,IAAIZ,SAAS,CAACO,OAAO,EAAE;UACrBN,MAAM,CAAC,mBAAmBJ,IAAI,IAAIe,OAAO,CAACC,MAAM,EAAE,CAAC;UACnD;QACF;QACA,IAAI;UACF,MAAMpD,QAAQ,CAAC,GAAGR,QAAQ,oBAAoB,EAAE6D,GAAG,CAAC;UACpDjB,IAAI,IAAI,CAAC;UACTD,WAAW,CAAC;YAAEC,IAAI;YAAEC,KAAK,EAAEc,OAAO,CAACC,MAAM;YAAEd;UAAM,CAAC,CAAC;UACnD,IAAIe,GAAG,CAACR,OAAO,EACbL,MAAM,CAAC,IAAI,CAACa,GAAG,CAACT,WAAW,GAAG,GAAG,EAAEG,OAAO,CAAC,CAAC,CAAC,OAAOM,GAAG,CAACR,OAAO,GAAG,CAAC;QACvE,CAAC,CAAC,OAAOG,CAAC,EAAE;UACVR,MAAM,CAAC,UAAUJ,IAAI,GAAG,CAAC,MAAMY,CAAC,CAACH,OAAO,EAAE,CAAC;QAC7C;QACA,MAAMS,MAAM,GACVtB,QAAQ,GAAG,CAAC,GAAGuB,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,MAAM,CAAC,CAAC,IAAIzB,QAAQ,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC;QAC/D,MAAMb,KAAK,CAACW,OAAO,GAAGwB,MAAM,CAAC;MAC/B;MACAd,MAAM,CAAC,GAAGF,KAAK,cAAcF,IAAI,IAAIe,OAAO,CAACC,MAAM,SAAS,CAAC;IAC/D,CAAC,SAAS;MACRzB,OAAO,CAAC,KAAK,CAAC;MACdJ,UAAU,CAAC,MAAMY,WAAW,CAAC;QAAEC,IAAI,EAAE,CAAC;QAAEC,KAAK,EAAE,CAAC;QAAEC,KAAK,EAAE;MAAG,CAAC,CAAC,EAAE,GAAG,CAAC;IACtE;EACF;;EAEA;EACA,MAAMoB,QAAQ,GAAGA,CAAA,KACfR,kBAAkB,CAChBS,KAAK,CAACC,IAAI,CAAC;IAAER,MAAM,EAAE;EAAI,CAAC,EAAE,OAAO;IACjCR,WAAW,EAAE,IAAI;IACjBC,OAAO,EAAE;EACX,CAAC,CAAC,CAAC,EACH,mBACF,CAAC;EAEH,MAAMgB,QAAQ,GAAGA,CAAA,KACfX,kBAAkB,CAChBS,KAAK,CAACC,IAAI,CAAC;IAAER,MAAM,EAAE;EAAI,CAAC,EAAE,OAAO;IACjCR,WAAW,EAAE,IAAI;IACjBC,OAAO,EAAE;EACX,CAAC,CAAC,CAAC,EACH,mBACF,CAAC;EAEH,MAAMiB,SAAS,GAAGA,CAAA,KAChBZ,kBAAkB,CAChBS,KAAK,CAACC,IAAI,CAAC;IAAER,MAAM,EAAE;EAAI,CAAC,EAAE,OAAO;IACjCR,WAAW,EAAE,KAAK;IAClBC,OAAO,EAAE;EACX,CAAC,CAAC,CAAC,EACH,oBACF,CAAC;EAEH,MAAMkB,UAAU,GAAGA,CAAA,KAAM;IACvB,MAAMC,OAAO,GAAG,CACd;MAAEpB,WAAW,EAAE,IAAI;MAAEC,OAAO,EAAE;IAAU,CAAC,EACzC;MAAED,WAAW,EAAE,IAAI;MAAEC,OAAO,EAAE;IAAU,CAAC,EACzC;MAAED,WAAW,EAAE,KAAK;MAAEC,OAAO,EAAE;IAAW,CAAC,CAC5C;IACD,MAAMM,OAAO,GAAGQ,KAAK,CAACC,IAAI,CACxB;MAAER,MAAM,EAAE;IAAI,CAAC,EACf,MAAMY,OAAO,CAACT,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,MAAM,CAAC,CAAC,GAAGO,OAAO,CAACZ,MAAM,CAAC,CAC1D,CAAC;IACD,OAAOF,kBAAkB,CAACC,OAAO,EAAE,mBAAmB,CAAC;EACzD,CAAC;EAED,MAAMc,MAAM,GAAGA,CAAA,KAAM;IACnB1B,SAAS,CAACO,OAAO,GAAG,IAAI;EAC1B,CAAC;EAED,oBACEvD,OAAA;IAAK2E,SAAS,EAAC,eAAe;IAAAC,QAAA,gBAC5B5E,OAAA;MAAA4E,QAAA,EAAQ;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;IAAO;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAQ,CAAC,eAEVhF,OAAA;MAAK2E,SAAS,EAAC,OAAO;MAAAC,QAAA,gBACpB5E,OAAA;QAAK2E,SAAS,EAAC,MAAM;QAAAC,QAAA,gBACnB5E,OAAA;UAAA4E,QAAA,EAAI;QAA0B;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eAEnChF,OAAA;UAAK2E,SAAS,EAAC,UAAU;UAAAC,QAAA,gBACvB5E,OAAA;YAAK2E,SAAS,EAAC,OAAO;YAAAC,QAAA,gBACpB5E,OAAA;cAAA4E,QAAA,EAAO;YAAU;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC,eACzBhF,OAAA;cACEiF,IAAI,EAAC,QAAQ;cACbC,GAAG,EAAC,GAAG;cACPC,IAAI,EAAC,IAAI;cACTC,KAAK,EAAE7C,OAAQ;cACf8C,QAAQ,EAAG5B,CAAC,IACVjB,UAAU,CAACwB,IAAI,CAACsB,GAAG,CAAC,CAAC,EAAEC,MAAM,CAAC9B,CAAC,CAAC+B,MAAM,CAACJ,KAAK,CAAC,IAAI,CAAC,CAAC;YACpD;cAAAP,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACF,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACC,CAAC,eACNhF,OAAA;YAAK2E,SAAS,EAAC,OAAO;YAAAC,QAAA,gBACpB5E,OAAA;cAAA4E,QAAA,EAAO;YAAW;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC,eAC1BhF,OAAA;cACEiF,IAAI,EAAC,QAAQ;cACbC,GAAG,EAAC,GAAG;cACPC,IAAI,EAAC,IAAI;cACTC,KAAK,EAAE3C,QAAS;cAChB4C,QAAQ,EAAG5B,CAAC,IACVf,WAAW,CAACsB,IAAI,CAACsB,GAAG,CAAC,CAAC,EAAEC,MAAM,CAAC9B,CAAC,CAAC+B,MAAM,CAACJ,KAAK,CAAC,IAAI,CAAC,CAAC;YACrD;cAAAP,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACF,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACC,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC,eAENhF,OAAA;UAAK2E,SAAS,EAAC,MAAM;UAACc,KAAK,EAAE;YAAEC,YAAY,EAAE;UAAG,CAAE;UAAAd,QAAA,gBAChD5E,OAAA;YAAQ2F,QAAQ,EAAExD,IAAK;YAACyD,OAAO,EAAEA,CAAA,KAAMxC,SAAS,CAAC,IAAI,EAAE,SAAS,CAAE;YAAAwB,QAAA,EAAC;UAEnE;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,eACThF,OAAA;YAAQ2F,QAAQ,EAAExD,IAAK;YAACyD,OAAO,EAAEA,CAAA,KAAMxC,SAAS,CAAC,IAAI,EAAE,SAAS,CAAE;YAAAwB,QAAA,EAAC;UAEnE;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,eACThF,OAAA;YACE2F,QAAQ,EAAExD,IAAK;YACfyD,OAAO,EAAEA,CAAA,KAAMxC,SAAS,CAAC,KAAK,EAAE,UAAU,CAAE;YAAAwB,QAAA,EAC7C;UAED;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACN,CAAC,eAENhF,OAAA;UAAIyF,KAAK,EAAE;YAAEI,SAAS,EAAE;UAAE,CAAE;UAAAjB,QAAA,EAAC;QAA+B;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eACjEhF,OAAA;UAAK2E,SAAS,EAAC,MAAM;UAAAC,QAAA,gBACnB5E,OAAA;YAAQ2F,QAAQ,EAAExD,IAAK;YAACyD,OAAO,EAAEzB,QAAS;YAAAS,QAAA,EAAC;UAE3C;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,eACThF,OAAA;YAAQ2F,QAAQ,EAAExD,IAAK;YAACyD,OAAO,EAAEtB,QAAS;YAAAM,QAAA,EAAC;UAE3C;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,eACThF,OAAA;YAAQ2F,QAAQ,EAAExD,IAAK;YAACyD,OAAO,EAAErB,SAAU;YAAAK,QAAA,EAAC;UAE5C;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,eACThF,OAAA;YAAQ2F,QAAQ,EAAExD,IAAK;YAACwC,SAAS,EAAC,KAAK;YAACiB,OAAO,EAAEpB,UAAW;YAAAI,QAAA,EAAC;UAE7D;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,eACThF,OAAA;YAAQ2F,QAAQ,EAAE,CAACxD,IAAK;YAACwC,SAAS,EAAC,QAAQ;YAACiB,OAAO,EAAElB,MAAO;YAAAE,QAAA,EAAC;UAE7D;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACN,CAAC,EAELrC,QAAQ,CAACG,KAAK,GAAG,CAAC,iBACjB9C,OAAA;UAAK2E,SAAS,EAAC,UAAU;UAAAC,QAAA,gBACvB5E,OAAA;YAAKyF,KAAK,EAAE;cAAEK,QAAQ,EAAE;YAAI,CAAE;YAAAlB,QAAA,GAC3BjC,QAAQ,CAACI,KAAK,EAAC,IAAE,EAACJ,QAAQ,CAACE,IAAI,EAAC,GAAC,EAACF,QAAQ,CAACG,KAAK;UAAA;YAAA+B,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC9C,CAAC,eACNhF,OAAA;YAAK2E,SAAS,EAAC,KAAK;YAAAC,QAAA,eAClB5E,OAAA;cACE2E,SAAS,EAAC,MAAM;cAChBc,KAAK,EAAE;gBACLM,KAAK,EAAE,GAAG/B,IAAI,CAACgC,KAAK,CACjBrD,QAAQ,CAACE,IAAI,GAAGF,QAAQ,CAACG,KAAK,GAAI,GACrC,CAAC;cACH;YAAE;cAAA+B,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACH;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACC,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CACN;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACE,CAAC,eAENhF,OAAA;QAAK2E,SAAS,EAAC,MAAM;QAAAC,QAAA,gBACnB5E,OAAA;UAAA4E,QAAA,EAAI;QAAG;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eACZhF,OAAA;UAAK2E,SAAS,EAAC,KAAK;UAACsB,IAAI,EAAC,KAAK;UAAC,aAAU,QAAQ;UAAArB,QAAA,EAC/CvC,GAAG,CAAC6D,GAAG,CAAC,CAAChD,IAAI,EAAEiD,CAAC,kBACfnG,OAAA;YAAK2E,SAAS,EAAC,KAAK;YAAAC,QAAA,EACjB1B;UAAI,GADmBiD,CAAC;YAAAtB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAEtB,CACN;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACC,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV;AAAC9C,EAAA,CAjPuBD,YAAY;AAAAmE,EAAA,GAAZnE,YAAY;AAAA,IAAAmE,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}